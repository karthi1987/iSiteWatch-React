@import '../../../framework/scss/partials/variables';
@import '../../../framework/scss/partials/mixins';


@mixin aspect-ratio($width, $height, $coreWidth) {
	overflow: hidden;
	width: $coreWidth;

	&:before {
		float: left;
		content: "";
		padding-bottom: ($height / $width) * $coreWidth;
	}
	&:after {
		content: "";
		display: table;
		clear: both;
	}
}

.quickhits-page {
	box-sizing: border-box;
	padding-right: 2rem;


	.quickhits-collection {
		box-sizing: border-box;
		width: 100%;

		.quickhits-slide-container {
				display: flex;
				justify-content: flex-start;
				flex-wrap: wrap;
				height: 100%;
				width: 90%;
		}

		.row {
				height: 100%;
				width: 100%;
			display: flex;
			flex-wrap: wrap;
			justify-content: center;
		}

		.quickhits-container {
			width: 20%;
		}

		.proportional-size-anchor {
			display: inline-block;
			box-sizing: border-box;
			width: 100%;

			.relative-size-anchor {
				position: relative;
				@include aspect-ratio(3.0,3.0,100%);


				.box-inner {
					background-size: cover;
					height: 100%;
					width: 100%;
					position: absolute;

					box-sizing: border-box;
					margin: $pageBodyPadding 0px 0px $pageBodyPadding;
					text-align: center;
					padding: 0px $pageBodyPadding $pageBodyPadding 0px;
					background-color: aliceblue;


					.bg-cell {
						font-size: responsive 0.5rem 2.5rem;
						font-range: 0px 4096px;
						cursor: pointer;


						width: 100%;
						height: 100%;
						background-size: cover;
						position: relative;

						.stuff {
							.description-bar {
								position: absolute;
								box-sizing: border-box;
								width: 100%;
								bottom: 0px;
								background-color: $white;

								vertical-align: middle;

								text-align: left;

								font-size: 0.75rem;
								height: 2.0rem;
								line-height: 2.0rem;
								padding-left: 0.35rem;


								.resize-indicator {
									position: absolute;
									right: 0%;
									bottom: 0%;
									width: 2.0rem;
									height: 2.0rem;
									background-color: $lighterGrey;

									display: flex;
									justify-content: center;
									align-items: center;

									.indicator-icon {
										color: $white;
										font-size: 0.65rem;
									}
								}


								.description-text {
									display: inline-block;
									vertical-align: middle;
									width: calc(100% - 2.75em);

									span {
										line-height: 1.1em;
										display: block;

										&.category {
											font-size: 0.75em;

											.category-text {
												display: inline;
											}
											.new {
												display: inline;
												color: $typographyColorRed;
											}
										}

										&.title {
											font-weight: 700;
											white-space: nowrap;
											width: 100%;
											text-overflow: ellipsis;
											overflow-x: hidden;
											overflow-y: hidden;
										}
									}
								}
							}
						}

						&.huge {
							z-index: 200;

							width: 95%;
							height: 95%;

							background-size: contain;
							background-repeat: no-repeat;
							background-color: wheat;
							box-sizing: border-box;
							box-shadow: 0px 10px 18px 6px rgba(0,0,0,0.1);

						}


					}
				}
			}
		}
	}

	.slick-prev,
	.slick-next {
		background: transparent;
		font-size: 4rem;
		width: 1em;
		height: 1em;
		border-radius: 0%;

		div {
			color: #CCC;
		}

		&:hover {
			background:transparent;
		}
	}

	.slick-prev {
		left: 0;
	}

	.slick-next {
		right: 0;
	}

	.slick-dots {
		display: block;
		bottom: -5rem;
		clear: both;
	}
}

.overlay {
	.quickhits-overlay-backfill {
		perspective: 100vw;

		background: rgba(0,0,0,0);
		width: 100%;
		height: 100%;
		transition: all 0.35s ease-in-out;
		cursor: pointer;

		display: flex;
		justify-content: center;
		align-items: center;

		&.show {
			background: rgba(0,0,0,0.4);
		}
	}
}

.overlay {
	.quickhits-overlay {
		position: fixed;
		z-index: 200;
		opacity: 0.0;

		background-size: contain;
		background-repeat: no-repeat;
		box-sizing: border-box;

		.proportional-size-anchor .relative-size-anchor .box-inner .promo-display-big .description-bar {
			opacity: 0.0;
		}

		&.huge .proportional-size-anchor .relative-size-anchor .box-inner .promo-display-big .description-bar {
			transition: opacity 0.5s cubic-bezier(1.000, 0.000, 0.675, 1.000);
			opacity: 0.01;
		}

		display: flex;
		justify-content: center;
		align-items: center;

		.centering-anchor {

			width: 90%;
			height: 90%;

			display: flex;
			justify-content: center;
			align-items: center;

			height: 75vw;	/* 100/75.~ = 1.3333 = 4:3 */
			width: 100vw;
			max-height: 100vh;
			max-width: 133.33333vh; /* 133.3333/100 = 1.3333 = 4:3 */


			@media (orientation: portrait) {
				width: 133.333333333333vw;
				height: 100vw;
				max-width: 75.0vh;
				max-height: 100vh;
			}

			.proportional-size-anchor {
				box-shadow: 0px 6px 48px 16px rgba(0,0,0,0.5);
				box-sizing: border-box;
				width: 95%;

				.relative-size-anchor {
					position: relative;
					@include aspect-ratio(4.0,3.0,100%);
					@media (orientation: portrait) {
						@include aspect-ratio(3.0,4.0,100%);
					}

					.box-inner {
						height: 100%;
						width: 100%;
						position: absolute;

						box-sizing: border-box;
						text-align: center;


						.quickhits-display-big {
							width: 100%;
							height: 100%;
							background-color: $white;

							.background-holder {
								cursor: pointer;
								position: absolute;
								background-size: auto 100%;
								width: 58.33333333%;  // 7:12
								height: 100%;
								@media (orientation: portrait) {
									width: 100%;
									height: 66.6667%;
								}
								top: 0;
								left: 0;
							}


							.description-bar {
								transition: all 0.35s ease-in-out;
								opacity: 0.0;
								position: absolute;
								box-sizing: border-box;
								width: 41.66666667%;  // 5:12
								height: 100%;

								@media (orientation: portrait) {
									width: 100%;
									height: 33.3333%;
								}

								right: 0px;
								bottom: 0px;

								background-color: $white;

								vertical-align: middle;

								text-align: left;

								line-height: 1.0;
								padding-left: 1.0rem;
								padding-right: 1.0rem;
								overflow-y: hidden;
								overflow-x: hidden;

								.resize-indicator {
									position: absolute;
									right: 0%;
									bottom: 0%;
									width: 2.5rem;
									height: 2.5rem;
									background-color: $lighterGrey;

									display: flex;
									justify-content: center;
									align-items: center;

									.indicator-icon {
										color: $white;
										font-size: 1rem;
									}
								}

								display: flex;
								align-items: center;
								justify-content: center;

								.description-text {
									width: 80%;

									span {
										display: block;
										padding-bottom: 1em;

										&.date {
											font-size: 60%;
										//	 font-size: remCalc(18px);
											font-weight: bold;
										}
										&.type-and-new {
											font-size: 70%;
											font-weight: 700;
											.type {
												display: inline;
												color: $lightGrey;
											}
											.new {
												display: inline;
												color: $red;
											}
										}
										&.title {
											font-weight: 700;
											font-size: 85%;
										//	 font-size: remCalc(30px);
											color: $red;
											font-family: "Neue Haas Grotesk", "Helvetica Neue", Arial, Helvetica, sans-serif;
											padding-bottom: 0.5em;
										}
										&.description {
											font-size: 34%;
										// font-size: remCalc(14px);
											line-height: 1.5;
											padding-bottom: 1.5em;
										}
										&.category {
											font-size: 30%;
											font-weight: 700;
											padding-bottom: 0;
										}
									}
								}
							}


						}
					}
				}
			}
		}

		&.template-1 {
			.centering-anchor {
				.proportional-size-anchor {
					.box-inner {
						.quickhits-display-big {
							.background-holder {
								width: 58.33333333%;  // 7:12
								//background-size: cover;
								background-position: center;
								background-repeat: no-repeat;
							}
						}
					}
				}
			}
		}
		
		&.template-2 {
			.centering-anchor {
				.proportional-size-anchor {
					.box-inner {
						.quickhits-display-big {
							.background-holder {
								width: 100%;
								background-size: cover;
								background-position: center;
								background-repeat: no-repeat;
							}

							.description-bar {
								background: transparent;

								.description-text {
									display: none;
								}
							}
						}
					}
				}
			}
		}

		&.template-3 {
			.centering-anchor {
				.proportional-size-anchor {
					.box-inner {
						.quickhits-display-big {
							.background-holder {
								width: 100%;
								height: 33.33333333333333%;
								background-size: 100% auto;
								background-position: center center;
							}

							.description-bar {
								width: 100%;
								height: 66.66666666666667%;

								.description-text {
									top: 52%;

									.type-and-new,
									.title {
										padding-bottom: 0.75em;
									}

									span {
										&.date {
											font-size: 55%;
											padding-bottom: 0.5em;
										}
										&.type-and-new {
											font-size: 70%;
										}
										&.title {
											font-size: 78%;
										}
										&.description {
											font-size: 30%;
										}
										&.category {
											font-size: 25%;
										}
									}
								}
							}
						}
					}
				}
			}
		}

		&.template-4 {
			.centering-anchor {
				.proportional-size-anchor {
					.box-inner {
						.quickhits-display-big {
							.background-holder {
								width: 100%;
								height: 66.66666666666667%;
								background-size: 100% auto;
								background-position: center center;
							}

							.description-bar {
								width: 100%;
								height: 33.33333333333333%;

								.description-text {

									span{
										&.date {
											font-size: 75%;
											padding-bottom: 0.5em;
										}
										&.type-and-new {
											font-size: 70%;
										}
										&.title {
											font-size: 150%;
											padding-bottom: 0.25em;
										}
										&.description {
											font-size: 60%;
										}
										&.category {
											font-size: 50%;
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
}
